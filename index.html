<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food Tracker</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <header>
    <div></div>
    <button id="themeToggle" title="Cambia tema">ðŸŒ“</button>
  </header>
  <main>
    <h1 class="main-heading">Alimenti</h1>
    <form id="foodForm" autocomplete="off">
      <input type="date" name="data" required>
      <input list="prodottoList" name="prodotto" placeholder="Prodotto" required autocomplete="off">
      <datalist id="prodottoList"></datalist>
      <input type="number" name="quantita" placeholder="QuantitÃ ">
      <select name="processo" required>
        <option value="">Seleziona Processo</option>
        <option value="Abbatutto -18Â° C">Abbatutto -18Â° C</option>
        <option value="Abbatutto +3Â° C">Abbatutto +3Â° C</option>
        <option value="Decongelato">Decongelato</option>
      </select>
      <input type="date" name="scadenza" required>
      <select name="sottovuoto" required>
        <option value="">Sottovuoto?</option>
        <option value="SÃ¬">SÃ¬</option>
        <option value="No">No</option>
      </select>
      <button type="submit">Aggiungi</button>
      <button type="button" id="cancelEditBtn" style="display:none;background:#ccc;color:#222;">Annulla</button>
    </form>

    <div class="sort-row">
      <label for="sortBy">Ordina per:</label>
      <select id="sortBy">
        <option value="scadenza">Scadenza</option>
        <option value="data">Data</option>
        <option value="prodotto">Prodotto</option>
        <option value="processo">Processo</option>
        <option value="sottovuoto">Sottovuoto</option>
      </select>
    </div>

    <div class="table-container">
      <table id="foodTable">
        <thead>
          <tr>
            <th>Data</th>
            <th>Prodotto</th>
            <th>QuantitÃ </th>
            <th>Processo</th>
            <th>Scadenza</th>
            <th>Sottovuoto</th>
            <th>Azioni</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="legend">
      <span class="legend-box expired"></span> Scaduti
      <span class="legend-box expiring" style="margin-left:1rem;"></span> In Scadenza
    </div>
    <button id="exportAlimentiBtn">ðŸ“„ Esporta PDF</button>
  </main>
  <script src="app.js"></script>
</body>
</html>
